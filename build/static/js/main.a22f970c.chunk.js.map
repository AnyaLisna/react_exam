{"version":3,"sources":["redux/actions.js","redux/reducers.js","components/ListAuthors.js","components/ListAuthorsHandler.js","App.js","index.js"],"names":["LOAD","DISPLAY","MOVE_UP","MOVE_DOWN","ORDER","CHOOSE_ITEM","CHANGE_ITEM","load","dispatch","url","type","fetch","then","response","json","data","display","Array","prototype","move","index","step","next","this","initialState","requested","editItem","value","getNextState","state","arguments","length","undefined","action","Object","objectSpread","newData","item","ListAuthors","props","listRequested","react_default","a","createElement","Fragment","map","onClick","selected","className","chooseItem","console","log","defaultValue","onKeyPress","event","changeItem","target","moveUp","moveDown","buttonClicked","ListAuthorsHandler","connect","order","toConsumableArray","filter","store","createStore","applyMiddleware","thunk","App","es","components_ListAuthorsHandler","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.a22f970c.chunk.js","sourcesContent":["export const LOAD = 'load';\nexport const DISPLAY = 'display';\nexport const MOVE_UP = 'move_up';\nexport const MOVE_DOWN = 'move_down';\nexport const ORDER = 'order';\nexport const CHOOSE_ITEM = 'choose_item';\nexport const CHANGE_ITEM = 'change_item';\n\nexport function load() {\n  return (dispatch) => {\n    dispatch({\n      type: LOAD,\n    });\n\n    function loadUrl(url) {\n      return fetch(url)\n        .then(response => response.json());\n    }\n\n    loadUrl('http://my-json-server.typicode.com/mate-academy/literary-blog/authors')\n      .then(data => {\n        const authors = data;\n        dispatch(display(authors));\n      });\n  };\n}\n\nexport function display(data) {\n  return {\n    type: DISPLAY,\n    data,\n  };\n}\n\nexport function order(index) {\n  return {\n    type: ORDER,\n    index,\n  };\n}\n\nArray.prototype.move = function (index, step) {\n  const next = this[index + step];\n  this[index + step] = this[index];\n  this[index] = next;\n  return this\n}\n\nexport function moveUp(data, index) {\n  const newData = [...data];\n  newData.move(index, -1);\n  return {\n    type: MOVE_UP,\n    newData,\n    index: index - 1,\n  };\n}\n\nexport function moveDown(data, index) {\n  const newData = [...data];\n  newData.move(index, 1);\n  return {\n    type: MOVE_DOWN,\n    newData,\n    index: index + 1,\n  };\n}\n\nexport function chooseItem(item) {\n  return {\n    type: CHOOSE_ITEM,\n    item,\n  };\n}\n\nexport function changeItem(data, value, editItem) {\n  const newData = [...data];\n  return {\n    type: CHANGE_ITEM,\n    data: newData.map((item) => {\n      if (item === editItem) {\n        return (item = value);\n      }\n      return item;\n    }).filter(item => item !== ''),\n    item: '',\n  };\n}\n","import {\n  LOAD, DISPLAY, ORDER, MOVE_UP, MOVE_DOWN, CHOOSE_ITEM, CHANGE_ITEM,\n} from './actions';\n\nconst initialState = {\n  requested: false,\n  data: null,\n  index: null,\n  editItem: '',\n  value: '',\n};\n\nfunction getNextState(state = initialState, action) {\n  switch (action.type) {\n    case LOAD:\n      return {\n        ...state,\n        requested: true,\n      };\n    case DISPLAY:\n      return {\n        ...state,\n        data: action.data,\n      };\n    case ORDER:\n      return {\n        ...state,\n        index: action.index,\n      };\n    case MOVE_UP:\n      return {\n        ...state,\n        data: action.newData,\n        index: action.index,\n      };\n    case MOVE_DOWN:\n      return {\n        ...state,\n        data: action.newData,\n        index: action.index,\n      };\n    case CHOOSE_ITEM:\n      return {\n        ...state,\n        editItem: action.item,\n      };\n    case CHANGE_ITEM:\n      return {\n        ...state,\n        data: action.data,\n        editItem: action.item,\n      };\n    default:\n      return state;\n  }\n}\n\nexport default getNextState;\n","import React from 'react';\nimport './ListAuthors.css';\n\nfunction ListAuthors(props) {\n  if (!props.listRequested) {\n    return <button className=\"load\" type=\"button\" onClick={props.buttonClicked}>Load</button>;\n  } else {\n    if (props.data === null) {\n      return <span>Loading...</span>\n    } else {\n      return (\n        <React.Fragment>\n          <ul>\n            {props.data.map((item, index) => {\n              if (item !== props.editItem) {\n                return (\n                  <li onClick={() => props.selected(index)}>\n                    <p className={index === props.index ? 'selected' : ''}>{item}</p>\n                    <button type=\"button\" onClick={() => props.chooseItem(item)}>Edit</button>\n                    {console.log(props.index)}\n                  </li>\n                )\n              } else {\n                return (\n                  <li>\n                    <input defaultValue={props.editItem} onKeyPress={(event) => props.changeItem(props.data, event.target.value, props.editItem)}/>\n                  </li>\n                )\n              }\n            })}\n          </ul>\n          <button className=\"move\" onClick={() => props.moveUp(props.data, props.index)}>Up</button>\n          <button className=\"move\" onClick={() => props.moveDown(props.data, props.index)}>Down</button>\n        </React.Fragment>\n      );\n  }\n  }\n}\n\nexport default ListAuthors;\n","import { connect } from 'react-redux';\nimport ListAuthors from './ListAuthors';\nimport {\n  load, order, moveUp, moveDown, chooseItem, changeItem,\n} from '../redux/actions';\n\nfunction mapStateToProps(state) {\n  return {\n    data: state.data,\n    listRequested: state.requested,\n    editItem: state.editItem,\n    index: state.index,\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    buttonClicked: () => dispatch(load()),\n    selected: index => dispatch(order(index)),\n    moveUp: (data, index) => dispatch(moveUp(data, index)),\n    moveDown: (data, index) => dispatch(moveDown(data, index)),\n    chooseItem: item => dispatch(chooseItem(item)),\n    changeItem: (data, value, item) => dispatch(changeItem(data, value, item)),\n  };\n}\n\nconst ListAuthorsHandler = connect(mapStateToProps, mapDispatchToProps)(ListAuthors);\n\nexport default ListAuthorsHandler;\n","import React from 'react';\r\nimport { applyMiddleware, createStore } from 'redux';\r\nimport { Provider } from 'react-redux';\r\nimport thunk from 'redux-thunk';\r\nimport getNextState from './redux/reducers';\r\nimport ListAuthorsHandler from './components/ListAuthorsHandler';\r\n\r\nconst store = createStore(getNextState, applyMiddleware(thunk));\r\n\r\nfunction App() {\r\n  return (\r\n    <Provider store={store}>\r\n    <ListAuthorsHandler />\r\n  </Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n"],"sourceRoot":""}